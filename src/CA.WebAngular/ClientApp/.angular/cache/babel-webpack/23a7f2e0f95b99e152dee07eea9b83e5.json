{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Development\\\\Repos\\\\CA\\\\src\\\\CA.WebAngular\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { BrowserModule } from '@angular/platform-browser';\nimport { APP_INITIALIZER } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\nimport { AppComponent } from './app.component';\nimport { NavMenuComponent } from './nav-menu/nav-menu.component';\nimport { HomeComponent } from './home/home.component';\nimport { CounterComponent } from './counter/counter.component';\nimport { FetchDataComponent } from './fetch-data/fetch-data.component';\nimport { AuthService } from './services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/router\";\nexport function initApp(auth) {\n  return /*#__PURE__*/_asyncToGenerator(function* () {\n    yield auth.getSession();\n\n    if (!auth.isLoggedIn) {\n      window.location.href = '/login';\n    }\n  });\n}\nexport class AppModule {}\n\nAppModule.ɵfac = function AppModule_Factory(t) {\n  return new (t || AppModule)();\n};\n\nAppModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n  type: AppModule,\n  bootstrap: [AppComponent]\n});\nAppModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n  providers: [{\n    provide: APP_INITIALIZER,\n    useFactory: initApp,\n    multi: true,\n    deps: [AuthService]\n  }],\n  imports: [[BrowserModule.withServerTransition({\n    appId: 'ng-cli-universal'\n  }), HttpClientModule, FormsModule, RouterModule.forRoot([{\n    path: '',\n    component: HomeComponent,\n    pathMatch: 'full'\n  }, {\n    path: 'counter',\n    component: CounterComponent\n  }, {\n    path: 'fetch-data',\n    component: FetchDataComponent\n  }])]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AppModule, {\n    declarations: [AppComponent, NavMenuComponent, HomeComponent, CounterComponent, FetchDataComponent],\n    imports: [i1.BrowserModule, HttpClientModule, FormsModule, i2.RouterModule]\n  });\n})();","map":{"version":3,"sources":["D:/Development/Repos/CA/src/CA.WebAngular/ClientApp/src/app/app.module.ts"],"names":["BrowserModule","APP_INITIALIZER","FormsModule","HttpClientModule","RouterModule","AppComponent","NavMenuComponent","HomeComponent","CounterComponent","FetchDataComponent","AuthService","i0","i1","i2","initApp","auth","getSession","isLoggedIn","window","location","href","AppModule","ɵfac","AppModule_Factory","t","ɵmod","ɵɵdefineNgModule","type","bootstrap","ɵinj","ɵɵdefineInjector","providers","provide","useFactory","multi","deps","imports","withServerTransition","appId","forRoot","path","component","pathMatch","ngJitMode","ɵɵsetNgModuleScope","declarations"],"mappings":";AAAA,SAASA,aAAT,QAA8B,2BAA9B;AACA,SAASC,eAAT,QAAgC,eAAhC;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,gBAAT,QAAiC,+BAAjC;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,gBAAT,QAAiC,6BAAjC;AACA,SAASC,kBAAT,QAAmC,mCAAnC;AACA,SAASC,WAAT,QAA4B,yBAA5B;AACA,OAAO,KAAKC,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,2BAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AAC1B,wCAAO,aAAY;AACf,UAAMA,IAAI,CAACC,UAAL,EAAN;;AACA,QAAI,CAACD,IAAI,CAACE,UAAV,EAAsB;AAClBC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACH;AACJ,GALD;AAMH;AACD,OAAO,MAAMC,SAAN,CAAgB;;AAEvBA,SAAS,CAACC,IAAV,GAAiB,SAASC,iBAAT,CAA2BC,CAA3B,EAA8B;AAAE,SAAO,KAAKA,CAAC,IAAIH,SAAV,GAAP;AAAgC,CAAjF;;AACAA,SAAS,CAACI,IAAV,GAAiB,aAAcd,EAAE,CAACe,gBAAH,CAAoB;AAAEC,EAAAA,IAAI,EAAEN,SAAR;AAAmBO,EAAAA,SAAS,EAAE,CAACvB,YAAD;AAA9B,CAApB,CAA/B;AACAgB,SAAS,CAACQ,IAAV,GAAiB,aAAclB,EAAE,CAACmB,gBAAH,CAAoB;AAAEC,EAAAA,SAAS,EAAE,CACxD;AAAEC,IAAAA,OAAO,EAAE/B,eAAX;AAA4BgC,IAAAA,UAAU,EAAEnB,OAAxC;AAAiDoB,IAAAA,KAAK,EAAE,IAAxD;AAA8DC,IAAAA,IAAI,EAAE,CAACzB,WAAD;AAApE,GADwD,CAAb;AAE5C0B,EAAAA,OAAO,EAAE,CAAC,CACLpC,aAAa,CAACqC,oBAAd,CAAmC;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAnC,CADK,EAELnC,gBAFK,EAGLD,WAHK,EAILE,YAAY,CAACmC,OAAb,CAAqB,CACjB;AAAEC,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,SAAS,EAAElC,aAAvB;AAAsCmC,IAAAA,SAAS,EAAE;AAAjD,GADiB,EAEjB;AAAEF,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,SAAS,EAAEjC;AAA9B,GAFiB,EAGjB;AAAEgC,IAAAA,IAAI,EAAE,YAAR;AAAsBC,IAAAA,SAAS,EAAEhC;AAAjC,GAHiB,CAArB,CAJK,CAAD;AAFmC,CAApB,CAA/B;;AAYA,CAAC,YAAY;AAAE,GAAC,OAAOkC,SAAP,KAAqB,WAArB,IAAoCA,SAArC,KAAmDhC,EAAE,CAACiC,kBAAH,CAAsBvB,SAAtB,EAAiC;AAAEwB,IAAAA,YAAY,EAAE,CAACxC,YAAD,EAC3GC,gBAD2G,EAE3GC,aAF2G,EAG3GC,gBAH2G,EAI3GC,kBAJ2G,CAAhB;AAItE2B,IAAAA,OAAO,EAAE,CAACxB,EAAE,CAACZ,aAAJ,EAAmBG,gBAAnB,EAC9BD,WAD8B,EACjBW,EAAE,CAACT,YADc;AAJ6D,GAAjC,CAAnD;AAK4B,CAL3C","sourcesContent":["import { BrowserModule } from '@angular/platform-browser';\r\nimport { APP_INITIALIZER } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AppComponent } from './app.component';\r\nimport { NavMenuComponent } from './nav-menu/nav-menu.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { CounterComponent } from './counter/counter.component';\r\nimport { FetchDataComponent } from './fetch-data/fetch-data.component';\r\nimport { AuthService } from './services/auth.service';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/platform-browser\";\r\nimport * as i2 from \"@angular/router\";\r\nexport function initApp(auth) {\r\n    return async () => {\r\n        await auth.getSession();\r\n        if (!auth.isLoggedIn) {\r\n            window.location.href = '/login';\r\n        }\r\n    };\r\n}\r\nexport class AppModule {\r\n}\r\nAppModule.ɵfac = function AppModule_Factory(t) { return new (t || AppModule)(); };\r\nAppModule.ɵmod = /*@__PURE__*/ i0.ɵɵdefineNgModule({ type: AppModule, bootstrap: [AppComponent] });\r\nAppModule.ɵinj = /*@__PURE__*/ i0.ɵɵdefineInjector({ providers: [\r\n        { provide: APP_INITIALIZER, useFactory: initApp, multi: true, deps: [AuthService] }\r\n    ], imports: [[\r\n            BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\r\n            HttpClientModule,\r\n            FormsModule,\r\n            RouterModule.forRoot([\r\n                { path: '', component: HomeComponent, pathMatch: 'full' },\r\n                { path: 'counter', component: CounterComponent },\r\n                { path: 'fetch-data', component: FetchDataComponent },\r\n            ])\r\n        ]] });\r\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(AppModule, { declarations: [AppComponent,\r\n        NavMenuComponent,\r\n        HomeComponent,\r\n        CounterComponent,\r\n        FetchDataComponent], imports: [i1.BrowserModule, HttpClientModule,\r\n        FormsModule, i2.RouterModule] }); })();\r\n"]},"metadata":{},"sourceType":"module"}